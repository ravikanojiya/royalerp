<h3>Student Registration</h3>
<hr>
<!-- <p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog> -->
<button class="btn btn-outline-info btn-sm" type="button" data-toggle="collapse" data-target="#collapseExample"
    aria-expanded="false" aria-controls="collapseExample">
    +
</button> &nbsp; <span class="badge badge-success">Students</span>
<div class="collapse" id="collapseExample">
    <div class="card card-body">
        <div class="container">
            <form [formGroup]="studform" (ngSubmit)="submit()">
                <div class="form-row">
                    <div class="form-group col-md-3">
                        <label for="inputcd">Code</label>
                        <input type="text" class="form-control" placeholder="2020JAN01" formControlName="scode" id="inputcd">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputename">FirstName</label>
                        <input type="text" class="form-control" formControlName="fn" id="inputename">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputState">MiddleName</label>
                        <input type="text" class="form-control" formControlName="mn" id="inputename">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputState">LastName</label>
                        <input type="text" class="form-control" formControlName="ln" id="inputename">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-3">
                        <label for="inputcd1">Gender</label>
                        <select formControlName="gender" class="form-control">
                            <option value="">Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                         </select>
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputcd1">Birth-Date</label>
                        <input type="date" class="form-control" id="inputcd1" formControlName="dob">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputcd1">Joining-Date</label>
                        <input type="date" class="form-control" id="inputcd1" formControlName="doj">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputename1">Qualification</label>
                        <input type="text" class="form-control" placeholder="Ex:- BCA" id="inputename1" formControlName="qualification">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputState1">CollegeName</label>
                        <input type="text" class="form-control" id="inputename1" formControlName="collegename">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputcd2">Referene</label>
                        <input type="text" class="form-control" id="inputcd2" formControlName="ref">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputcd2">Mobile</label>
                        <input type="text" class="form-control" id="inputcd2" formControlName="mobile">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputcd2">Email</label>
                        <input type="email" class="form-control" id="inputcd2" formControlName="email">
                    </div>
                  
                </div>
                <div class="form-row">
                    <div class="form-group col-md-4">
                        <label for="inputcd2">For What</label>
                       <textarea class="form-control" placeholder="Inquiry Details" formControlName="inqdetail"></textarea>
                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputename2">Status</label>
                        <select id="inputename2" class="form-control" formControlName="status">
                            <option selected value="">Choose Status</option>
                            <option value="Active">Active</option>
                            <option value="Blocked">Blocked</option>
                        </select>
                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputcd2">Address</label>
                       <textarea class="form-control" formControlName="address"></textarea>
                    </div>
                    <div class="form-group col-md-4">
                    <label for="inputEmail4">Batch Type</label>
                    <select class="custom-select mr-sm-2" formControlName="studenttype" id="inlineFormCustomSelect">
                      <option selected value="" disabled>Select-Type</option>                     
                      <option  value="club" >Club</option>
                      <option  value="gen" >General</option>
                      <option  value="oto" >OneToOne</option>
                  </select>
                    </div>
                    <div class="form-group col-md-8">
                        <label for="inputState3">Photo</label>
                        <input type="file" id="file"  class="form-control" (change)="handleFileInput($event.target.files)" required>
                    </div>
                    <div *ngIf="imagePath">
                        <img [src]="['http://localhost:4000/uploads/'+ imagePath]" width="100px" height="100px" required>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary" data-toggle="collapse" data-target="#collapseExample"
                aria-expanded="false" aria-controls="collapseExample">Register</button>
            </form>
        </div>
    </div>
</div>
<div class="table-responsive-lg mt-1">
    <table class="table table-bordered" >
        <thead class="bg-dark text-white">
            <tr>
                <th scope="col">StudentCode</th>
                <th scope="col">StudentName</th>
                <th scope="col">Photo</th>
                <th scope="col">contact</th>
                <th scope="col">Email</th>
                <th scope="col">Type</th>
                <th scope="col">Qua.</th>
                <th scope="col">status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let p of getallstud">
                <td>{{p.scode}}</td>
                <td>{{p.fn}}&nbsp;{{p.mn}}&nbsp;{{p.ln}}</td>                
                <td ><img [src]="['http://localhost:4000/uploads/'+ p.image]" class="rounded" width="50px" height="50px"></td>
                <td>{{p.mobile}}</td>
                <td>{{p.email}}</td>
                <td>{{p.studenttype}}</td>
                <td>{{p.qualification}}</td>
                <td><span [ngClass]="p.status=='Active'?'badge badge-success':'badge badge-danger'">{{p.status}}</span>
                </td>
                <td><button class="btn btn-outline-info btn-sm" [routerLink]="['./edit',p.sid]" type="button"
                        data-toggle="collapse" data-target="#collapseExample" aria-expanded="false"
                        aria-controls="collapseExample">
                        <i class="fas fa-user-edit"></i>
                    </button>&nbsp;
                    <button type="button"  (click)="deletestud(p.sid)" class="btn btn-outline-danger btn-sm "><i
                            class="far fa-trash-alt"></i></button>
                </td>
            </tr>


        </tbody>

    </table>
</div>

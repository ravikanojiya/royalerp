<p-toast position="center" key="tc"></p-toast>
<h3>Manage Batches</h3>
<hr>
<p>
    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample"
        aria-expanded="false" aria-controls="collapseExample">
        +
    </button>
</p>
<div class="collapse" id="collapseExample">
    <div class="card card-body">
        <div class="container">
            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab"
                        aria-controls="nav-home" aria-selected="true"><button type="button" class="btn btn-primary">
                            Club <span class="badge badge-light">{{totalclub[0].tc}}</span>
                            <span class="sr-only">unread messages</span>
                        </button> </a>
                    <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab"
                        aria-controls="nav-profile" aria-selected="false">Batch</a>
                    <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab"
                        aria-controls="nav-contact" aria-selected="false">OneToOne</a>
                </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                    <form [formGroup]="mbform" (ngSubmit)="submit()">
                        <br>
                        <h3>Club Students</h3>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="inputEmail4">New Batches</label>
                                <select class="custom-select mr-sm-2" formControlName="batchid">
                                    <option selected disabled value=""> Select-Club-Batch</option>
                                    <option *ngFor="let b of getcbatch" value="{{b.batchid}}">
                                        {{b.en | uppercase}}{{b.bt | uppercase}}&nbsp;|&nbsp;{{b.st | date:'shortDate'}}&nbsp;&nbsp;|&nbsp;&nbsp;<b>{{b.bn | uppercase}}</b><b></b>
                                    </option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="inputPassword4">Student Name</label>
                                <select class="custom-select mr-sm-2" formControlName="sid">
                                    <option selected value="" disabled>Select-Club-Student</option>
                                    <option *ngFor="let s of getcstud" value="{{s.sid}}">
                                       <span *ngIf="s.regi_date==''?'badge badge-success':'badge badge-danger'">{{s.fn}}&nbsp;{{s.mn}}&nbsp;{{s.ln}}</span> 
                                    </option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="inputename2">Status</label>
                                <select id="inputename2" class="form-control" formControlName="status">
                                    <option selected value="">Choose Status</option>
                                    <option value="Active">Active</option>
                                    <option value="Blocked">Blocked</option>
                                </select>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary">Save & Add</button>
                    </form>
                </div>
                <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                    <form [formGroup]="mbbform" (ngSubmit)="submitb()">
                        <br>
                        <h3>Batch Students</h3>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="inputEmail4">New Batches</label>
                                <select class="custom-select mr-sm-2" formControlName="batchid">
                                    <option selected disabled value=""> Select-Gen-Batch</option>
                                    <option *ngFor="let b of getbbatch" value="{{b.batchid}}">
                                        {{b.en | uppercase}}{{b.bt | uppercase}}&nbsp;|&nbsp;{{b.st | date:'shortDate'}}&nbsp;&nbsp;|&nbsp;&nbsp;<b>{{b.bn | uppercase}}</b><b></b>
                                    </option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="inputPassword4">Student Name</label>
                                <select class="custom-select mr-sm-2" formControlName="sid">
                                    <option selected value="" disabled>Select-Gen-Student</option>
                                    <option *ngFor="let s of getbstud" value="{{s.sid}}">
                                        {{s.fn | uppercase}}&nbsp;{{s.mn |uppercase}}&nbsp;{{s.ln |uppercase}}
                                    </option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="inputename2">Status</label>
                                <select id="inputename2" class="form-control" formControlName="status">
                                    <option selected value="">Choose Status</option>
                                    <option value="Active">Active</option>
                                    <option value="Blocked">Blocked</option>
                                </select>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary">Save & Add</button>
                    </form>
                </div>
                <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
                    <form [formGroup]="mboform" (ngSubmit)="submito()">
                        <br>
                        <h3>OneToOne Students</h3>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="inputEmail4">New Batches</label>
                                <select class="custom-select mr-sm-2" formControlName="batchid">
                                    <option selected disabled value=""> Select-One-Batch</option>
                                    <option *ngFor="let b of getobatch" value="{{b.batchid}}">
                                        {{b.en | uppercase}}{{b.bt | uppercase}}&nbsp;|&nbsp;{{b.st | date:'shortDate'}}&nbsp;&nbsp;|&nbsp;&nbsp;<b>{{b.bn | uppercase}}</b><b></b>
                                    </option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="inputPassword4">Student Name</label>
                                <select class="custom-select mr-sm-2" formControlName="sid">
                                    <option selected value="" disabled>Select-One-Student</option>
                                    <option *ngFor="let s of getostud" value="{{s.sid}}">
                                        {{s.fn | uppercase}}&nbsp;{{s.mn |uppercase}}&nbsp;{{s.ln |uppercase}}
                                    </option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="inputename2">Status</label>
                                <select id="inputename2" class="form-control" formControlName="status">
                                    <option selected value="">Choose Status</option>
                                    <option value="Active">Active</option>
                                    <option value="Blocked">Blocked</option>
                                </select>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary">Save & Add</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="table-responsive-lg mt-1">
    <table class="table table-bordered" datatable>
        <thead class="bg-dark text-white">
            <tr>
                <th scope="col">BatchName</th>
                <th scope="col">StudentName</th>
                <th scope="col">Faculty Name</th>
                <th scope="col">Status</th>
                <th scope="col">Added Date</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let u of getmbatch">
                <td>{{u.bn}}</td>
                <td>{{u.fn}}&nbsp;{{u.mn}}&nbsp;{{u.ln}}</td>
                <td>{{u.un | uppercase}}&nbsp; SIR</td>
                <td><span [ngClass]="u.st=='Active'?'badge badge-success':'badge badge-danger'">{{u.st}}</span></td>
                <td>{{u.ad | date :'shortDate'}}</td>
                <td><button class="btn btn-outline-info btn-sm" [routerLink]="['./edit',u.bsid]" type="button"
                        data-toggle="collapse" data-target="#collapseExample" aria-expanded="false"
                        aria-controls="collapseExample">
                        <i class="fas fa-user-edit"></i>
                    </button>&nbsp;
                    <button type="button" (click)="deletembatch(u.bsid)" class="btn btn-outline-danger btn-sm ">
                        <i class="far fa-trash-alt"></i></button>
                </td>
            </tr>
        </tbody>
    </table>
</div>